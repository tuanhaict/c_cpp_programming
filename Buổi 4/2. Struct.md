# Struct

Struct là kiểu dữ liệu bao gồm nhiều thành phần thuộc các kiểu dữ liệu khác.

## 1. Cách khai báo struct

```c
struct <tên struct> {
    <kiểu dữ liệu 1> <tên thành phần 1>;
    <kiểu dữ liệu 2> <tên thành phần 2>;
    ..............
};
```

Ví dụ: 
```c
struct Student {
    int age;
    char name[30];
};

int main()
{
    struct Student a = {19, "Linh"}; // khởi tạo giá trị ban đầu
    struct Student b;
    b = {19, "Linh"}; // lỗi vì không thể gán b với 1 struct
    // cần phân biệt khởi tạo với gán
    // Nếu không khởi tạo giá trị ban đầu thì phải gán thủ công từng thành phần
    b.age = 19;
    b.name = "Linh";
    // nó tương tự như trong mảng
    // nếu khởi tạo ban đầu
    int arr[5] = {1,2,3,4,5};
    // nếu không khởi tạo thì phải gán thủ công chứ không được gán cả 1 mảng
    int arr[5];
    arr = {1,2,3,4,5}; // lỗi
    //phải gán thủ công
    arr[0] = 1;
    return 0;
}
```

Có thể dùng `typedef` tương tự như bên `enum` để viết gọn hơn, không cần thêm `struct` mỗi khi khai báo:

```c
typedef struct {
    int age;
    char name[30];
} Student;

int main()
{
    Student a = {19, "Linh"};
    return 0;
}
```
## 2. Truy cập từng thành phần 

### Dùng dấu `.`

```c
typedef struct {
    int age;
    char name[30];
} Student;

int main()
{
    Student a = {19, "Linh"};
    a.age = 22;
    a.name = "Tuan";
    return 0;
}
```

### Dùng dấu `->` khi qua con trỏ

```c
typedef struct {
    int age;
    char name[30];
} Student;

int main()
{
    Student a = {19, "Linh"};
    Student *b = &a;
    b->age = 22;
    b->name = "Tuan";
    // tương đương với
    (*b).age = 22;
    (*b).name = "Tuan";
    return 0;
}
```

## 3. Gán và sao chép struct

```c
typedef struct {
    int age;
    char name[30];
} Student;

int main()
{
    Student a = {19, "Linh"};
    Student b = a; // hợp lệ
    printf("%d %s", b.age, b.name); // 19 Linh
    return 0;
}
```

## 4. Struct lồng nhau
Vì struct cũng là 1 kiểu dữ liệu nên hoàn toàn có thể để nó ở trong 1 struct khác.
```c
typedef struct {
    int day, month, year;
} Date;

typedef struct {
    char name[50];
    Date birthday;
} Student;

Student s1 = {"Tran Van D", {12, 5, 2003}};
printf("%d/%d/%d\n", s1.birthday.day, s1.birthday.month, s1.birthday.year);
```