# CON TRỎ

## 1. Khái niệm và cú pháp

- **Con trỏ (Pointer)** là một **biến lưu địa chỉ** của một biến khác.

- Cú pháp:
  ```c
  kiểu_dữ_liệu *tên_con_trỏ;
  ```
- Ví dụ:

  ```c
  #include <stdio.h>

  int main() {
      int x = 10;
      int *p = &x;  // p lưu địa chỉ của x

      printf("Gia tri cua x: %d\n", x);
      printf("Dia chi cua x: %p\n", &x);
      printf("Gia tri cua con tro p: %p\n", p);
      printf("Gia tri ma p tro toi: %d\n", *p); // lấy giá trị mà con trỏ trỏ tới thông qua *

      return 0;
  }

  ```

## 2. Liên hệ con trỏ và mảng, phép toán trên con trỏ

- Tên mảng thực chất là `con trỏ` trỏ đến phần tử đầu tiên

- Có thể thực hiện phép cộng/trừ với con trỏ. Khi cộng/trừ một con trỏ với số nguyên `n`, con trỏ di chuyển đến phần tử cách `n` vị trí (theo kích thước kiểu dữ liệu).

```c
int arr[5] = {1,2,3,4,5};
// arr chính là con trỏ trỏ đến arr[0]
// hay tương đương với arr = &arr[0];

cout << *(arr +1); // in ra 2
cout << *(arr +3); // in ra 4

int *p = &arr[3];
cout << *(p -1); // in ra 3
```

## 3. Con trỏ `NULL`

Khi khởi tạo mà không gán giá trị `NULL` thì con trỏ sẽ chứa giá trị bất kì, có thể dẫn đến truy cập vùng nhớ không được phép

```c
int *p = NULL; // gán cho con trỏ bằng NULL nếu như ban đầu chưa biết gán cho nó là gì

// NULL tức là con trỏ đang không trỏ vào gì cả

if (p == NULL) {
    printf("Con tro khong tro toi dau ca.\n");
}
int arr[4] = {1,2,3,4};
p = arr;
```

## 4. Con trỏ trỏ với con trỏ khác

```c
#include <stdio.h>

int main() {
    int x = 42;
    int *p = &x;
    int **pp = &p; // pp trỏ đến p

    printf("x = %d\n", **pp);
}

```

```css
x → p → pp
42  &x   &p
```
